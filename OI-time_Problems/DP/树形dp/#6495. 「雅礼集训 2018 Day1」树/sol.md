$n$ 个点的树的深度的期望等于（所有 $n$ 个点的树的深度的和）除以（$n$ 个点的树的个数）。以上的树均指满足题给条件的有标号有根树。

后者显然为 $\prod_{i=2}^n(i-1)=(n-1)!$。重点在怎么求前者。设 $f(i,j)$ 表示 $i$ 个点，深度为 $j$ 的树的个数。

注意到当 $i\ge 2$ 时，2 的父亲一定是 1。于是可以把整颗树分成两部分：$2$ 子树，$1$ 子树除了 $2$ 的部分。枚举 $2$ 子树的大小和最大深度计算贡献即可。