转化题意，给一个 $n\times n$ 的矩阵，每个元素是一个二元组 $(a_{i,j}, b_{i,j}$，要求每行每列选且仅选 1 个元素，最大化

$$
C=\dfrac{\sum_{i=1}^na'_i}{\sum_{i=1}^nb'_i}
$$

其中 $(a'_i,b'_i),1\le i\le n$ 是你选的 $n$ 个二元组。

这是一个0/1分数规划的问题，采用二分的方法，二分 $t$，

$$
C=\dfrac{\sum_{i=1}^na'_i}{\sum_{i=1}^nb'_i}\ge t
$$

则 $\sum_{i=1}^n(a'_i-tb'_i)\ge 0$

于是把每个元素变为 $a'_i-tb'i$，最大化选数和。这是一个经典的费用流/二分图最大权匹配的问题。