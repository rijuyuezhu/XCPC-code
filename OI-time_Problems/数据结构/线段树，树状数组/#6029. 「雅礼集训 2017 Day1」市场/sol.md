序列，四种操作：

1. 区间加
2. 区间除整数（并下取整）
3. 区间求和
4. 区间求最小值

其中 1,3,4 操作可以用线段树容易维护，关键是 2 操作，它看起来是基于势能分析导致复杂度正确的一个操作。

如果没有区间加，对每个数进行最多 $O(\log V)$ 次除该数会归 0，不必继续操作，所以复杂度为 $O(n\log n+n\log V)$。问题在于这里有一个区间加需要处理，这会使得前者可能退化成 $O(n)$ （这同样容易构造，区间加区间除交替着来即可）。

考虑将区间除转化为区间加。对于 $v$ 需要加上 $\left\lfloor\dfrac v d\right\rfloor - v$。容易发现这个东西在整数域上是单调不增的（对 $v$ 和 $v+1$ 进行对比容易得到该结论）。所以若一个区间的最大值与最小值满足 $\left\lfloor\dfrac v d\right\rfloor - v$ 相同，则可以直接区间加，否则需要暴力往下进行更新。

复杂度我仍然不会分析，不过能过。