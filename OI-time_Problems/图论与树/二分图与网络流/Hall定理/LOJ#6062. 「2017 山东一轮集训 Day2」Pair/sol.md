假如把 $b$ 从小到大排序，如何判断 $b$ 与当前一个大小为 $m$ 的 $a$ 的子区间 $a'$ 是否成立完美匹配？

我们把 $a'$ 看成一个二分图的左部点，$b$ 看成一个二分图的右部点，则询问是否存在完美匹配。考虑使用 Hall 定理进行验证。

我们不妨将 $b$ 从小到大排序，则每个 $a'_i$ 可以匹配的是 $b$ 的一段后缀，比如记为 $[c_i,m]$。而对于 $S\subseteq \{1,2,\cdots, m\}$，可以匹配的右部节点区域是 $[\min_{i\in S} c_i,m]$。我们贪心地选择最大的 $|S|$ 进行验证，问题转化为，对于 $b$ 的任意一个后缀（假设长度为 $t$，即 $[m-t+1,m]$），设满足 $c_i\ge m-t+1$ 的 $a'_i$ 的数量为 $d_t$，是否有 $d_t\le t$。转而维护 $t-d_t(1\le t\le m)$ 的最小值是否大于等于0。可以直接用线段树维护。
